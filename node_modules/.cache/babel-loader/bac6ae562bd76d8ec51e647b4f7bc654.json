{"ast":null,"code":"import Cookies from 'js-cookie';\nconst BASEAPI = 'http:127.0.0.1:8000/api';\n\nconst apiPost = async (endpoint, body) => {\n  if (!body.token) {\n    let token = Cookies.get('token');\n\n    if (token) {\n      body.token = token;\n    }\n  }\n\n  const response = await (BASEAPI + endpoint, {\n    method: 'POST',\n    headers: {\n      'Accept': 'apṕlication/json',\n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer'\n    },\n    body: JSON.stringify(body)\n  });\n  const json = await response.json();\n\n  if (json.notallowed) {\n    window.location.href = '/';\n    return;\n  }\n\n  return json;\n  console.log(json);\n};\n\nconst API = {\n  login: async (email, password) => {\n    const json = await apiPost('/baber/login', {\n      email,\n      password\n    });\n    return json;\n  }\n};\nexport default (() => API);","map":{"version":3,"sources":["/home/bruno/Desktop/projetos/painelweb/src/services/api.js"],"names":["Cookies","BASEAPI","apiPost","endpoint","body","token","get","response","method","headers","JSON","stringify","json","notallowed","window","location","href","console","log","API","login","email","password"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,WAApB;AAEA,MAAMC,OAAO,GAAG,yBAAhB;;AAEA,MAAMC,OAAO,GAAG,OAAOC,QAAP,EAAiBC,IAAjB,KAA0B;AACtC,MAAG,CAACA,IAAI,CAACC,KAAT,EAAgB;AACZ,QAAIA,KAAK,GAAGL,OAAO,CAACM,GAAR,CAAY,OAAZ,CAAZ;;AACA,QAAGD,KAAH,EAAU;AACND,MAAAA,IAAI,CAACC,KAAL,GAAaA,KAAb;AACH;AACJ;;AAED,QAAME,QAAQ,GAAG,OAAON,OAAO,GAACE,QAAR,EAAkB;AACtCK,IAAAA,MAAM,EAAE,MAD8B;AAEtCC,IAAAA,OAAO,EAAC;AACJ,gBAAU,kBADN;AAEJ,sBAAgB,kBAFZ;AAGJ,uBAAiB;AAHb,KAF8B;AAOtCL,IAAAA,IAAI,EAACM,IAAI,CAACC,SAAL,CAAeP,IAAf;AAPiC,GAAzB,CAAjB;AASA,QAAMQ,IAAI,GAAG,MAAML,QAAQ,CAACK,IAAT,EAAnB;;AAEA,MAAGA,IAAI,CAACC,UAAR,EAAoB;AAChBC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AACA;AACH;;AAED,SAAOJ,IAAP;AACAK,EAAAA,OAAO,CAACC,GAAR,CAAYN,IAAZ;AACH,CA1BD;;AA6BA,MAAMO,GAAG,GAAG;AAERC,EAAAA,KAAK,EAAC,OAAOC,KAAP,EAAcC,QAAd,KAA2B;AAC7B,UAAMV,IAAI,GAAG,MAAMV,OAAO,CACtB,cADsB,EAEtB;AAACmB,MAAAA,KAAD;AAAQC,MAAAA;AAAR,KAFsB,CAA1B;AAIA,WAAOV,IAAP;AACH;AARO,CAAZ;AAYA,gBAAe,MAAIO,GAAnB","sourcesContent":["import Cookies from 'js-cookie';\n\nconst BASEAPI = 'http:127.0.0.1:8000/api';\n\nconst apiPost = async (endpoint, body) => {\n    if(!body.token) {\n        let token = Cookies.get('token');\n        if(token) {\n            body.token = token;\n        }\n    }\n\n    const response = await (BASEAPI+endpoint, {\n        method: 'POST',\n        headers:{\n            'Accept': 'apṕlication/json',\n            'Content-Type': 'application/json',\n            'Authorization': 'Bearer'\n        },\n        body:JSON.stringify(body)\n    });\n    const json = await response.json();\n\n    if(json.notallowed) {\n        window.location.href = '/';\n        return;\n    }\n\n    return json;\n    console.log(json);\n}\n\n\nconst API = {\n\n    login:async (email, password) => {\n        const json = await apiPost(\n            '/baber/login',\n            {email, password}\n        );\n        return json;\n    }\n\n};\n\nexport default ()=>API;"]},"metadata":{},"sourceType":"module"}