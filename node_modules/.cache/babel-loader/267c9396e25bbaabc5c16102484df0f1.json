{"ast":null,"code":"import Cookies from 'js-cookie';\nconst BASEAPI = 'http://127.0.0.1:8000/api';\n/*\nconst apiPost = async (endpoint, body) => {\n    if(!body.token) {\n        let token = Cookies.get('token');\n        if(token) {\n            body.token = token;\n        }\n    }\n    const response = await fetch(BASEAPI+endpoint, {\n        method: 'POST',\n        headers:{\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': 'Bearer'\n        },\n        body:JSON.stringify(body)\n    });\n    const json = await response.json();\n    if(json.notallowed) {\n        window.location.href = '/';\n        return;\n    }\n    return json;\n}\n*/\n\nconst API = {\n  login: async (email, password) => {\n    const req = await fetch(`${BASEAPI}/auth/login`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    const json = await req.json();\n    return json;\n  },\n  register: async (name, email, password) => {\n    const json = await apiPost('/user', {\n      name,\n      email,\n      password\n    });\n    return json;\n  }\n};\nexport default (() => API);","map":{"version":3,"sources":["/home/bruno/Desktop/projetos/painelweb/src/services/api.js"],"names":["Cookies","BASEAPI","API","login","email","password","req","fetch","method","headers","Accept","body","JSON","stringify","json","register","name","apiPost"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,WAApB;AAEA,MAAMC,OAAO,GAAG,2BAAhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,GAAG,GAAG;AAERC,EAAAA,KAAK,EAAC,OAAOC,KAAP,EAAcC,QAAd,KAA2B;AAC7B,UAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAEN,OAAQ,aAAZ,EAA0B;AAC7CO,MAAAA,MAAM,EAAE,MADqC;AAE7CC,MAAAA,OAAO,EAAE;AACNC,QAAAA,MAAM,EAAE,kBADF;AAEN,wBAAiB;AAFX,OAFoC;AAM7CC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACT,QAAAA,KAAD;AAAQC,QAAAA;AAAR,OAAf;AANuC,KAA1B,CAAvB;AAQA,UAAMS,IAAI,GAAG,MAAMR,GAAG,CAACQ,IAAJ,EAAnB;AACA,WAAOA,IAAP;AACH,GAbO;AAcRC,EAAAA,QAAQ,EAAC,OAAOC,IAAP,EAAaZ,KAAb,EAAoBC,QAApB,KAAiC;AACtC,UAAMS,IAAI,GAAG,MAAMG,OAAO,CACtB,OADsB,EAEtB;AAACD,MAAAA,IAAD;AAAOZ,MAAAA,KAAP;AAAcC,MAAAA;AAAd,KAFsB,CAA1B;AAIA,WAAOS,IAAP;AACH;AApBO,CAAZ;AAyBA,gBAAe,MAAIZ,GAAnB","sourcesContent":["import Cookies from 'js-cookie';\n\nconst BASEAPI = 'http://127.0.0.1:8000/api';\n/*\nconst apiPost = async (endpoint, body) => {\n    if(!body.token) {\n        let token = Cookies.get('token');\n        if(token) {\n            body.token = token;\n        }\n    }\n    const response = await fetch(BASEAPI+endpoint, {\n        method: 'POST',\n        headers:{\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': 'Bearer'\n        },\n        body:JSON.stringify(body)\n    });\n    const json = await response.json();\n    if(json.notallowed) {\n        window.location.href = '/';\n        return;\n    }\n    return json;\n}\n*/\n\nconst API = {\n\n    login:async (email, password) => {\n        const req = await fetch(`${BASEAPI}/auth/login`, {\n            method: 'POST',\n            headers: {\n               Accept: 'application/json',\n               'Content-Type' : 'application/json' \n            },\n            body: JSON.stringify({email, password})\n        });\n        const json = await req.json();\n        return json;\n    },\n    register:async (name, email, password) => {\n        const json = await apiPost(\n            '/user',\n            {name, email, password}\n        );\n        return json;\n    }\n    \n};\n\n\nexport default ()=>API;"]},"metadata":{},"sourceType":"module"}